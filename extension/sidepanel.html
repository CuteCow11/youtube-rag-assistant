<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; background: #0f0f0f; color: white; display: flex; flex-direction: column; height: 100vh; }
    
    .header { padding: 15px; background: #202020; border-bottom: 1px solid #333; display: flex; align-items: center; justify-content: space-between; }
    .header h2 { margin: 0; font-size: 16px; }
    .status { font-size: 12px; color: #aaa; }


    #setup-area { padding: 20px; text-align: center; }
    button.primary { background: #3ea6ff; color: black; border: none; padding: 10px 20px; border-radius: 18px; cursor: pointer; font-weight: bold; width: 100%; }
    button.primary:hover { background: #65b8ff; }
    button:disabled { opacity: 0.5; cursor: default; }


    #chat-container { flex: 1; overflow-y: auto; padding: 15px; display: none; flex-direction: column; gap: 10px; }
    

    .message { max-width: 85%; padding: 10px 15px; border-radius: 15px; font-size: 14px; line-height: 1.4; }
    .user { align-self: flex-end; background: #263850; color: #fff; border-bottom-right-radius: 2px; }
    .bot { align-self: flex-start; background: #202020; color: #e0e0e0; border-bottom-left-radius: 2px; }
    

    .input-area { padding: 15px; background: #202020; border-top: 1px solid #333; display: none; gap: 10px; }
    input[type="text"] { flex: 1; background: #0f0f0f; border: 1px solid #444; color: white; padding: 10px; border-radius: 20px; outline: none; }
    input[type="text"]:focus { border-color: #3ea6ff; }
    

    .loader { display: none; color: #aaa; font-size: 12px; text-align: center; margin-top: 10px; }
  </style>
</head>
<body>

  <div class="header">
    <h2>YT Assistant </h2>
    <span id="status-text" class="status">Idle</span>
  </div>

  <div id="setup-area">
    <p style="color:#aaa; font-size:13px; margin-bottom:15px;">
      Navigate to a YouTube video and click "Load Video" to start chatting.
    </p>
    <button id="btn-init" class="primary">Load Current Video</button>
    <div id="init-loader" class="loader">Downloading transcript & embedding...</div>
  </div>

  <div id="chat-container"></div>

  <div class="input-area" id="input-area">
    <input type="text" id="chat-input" placeholder="Ask a question..." />
    <button id="btn-send" class="primary" style="width: auto;">â†’</button>
  </div>

  <script src="sidepanel.js"></script>
</body>
</html>